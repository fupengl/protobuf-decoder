(window["webpackJsonpprotobuf-decoder"]=window["webpackJsonpprotobuf-decoder"]||[]).push([[0],{170:function(e,t,n){e.exports=n(301)},179:function(e,t,n){},29:function(e,t,n){"use strict";(function(e){function a(t){var n=t.replace(/\s/g,""),a=n.replace(/0x/g,"").toLowerCase();return function(e){var t=!0,n=!0,a=!1,r=void 0;try{for(var l,u=e[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var o=l.value;o>="a"&&o<="f"||o>="0"&&o<="9"||(t=!1)}}catch(f){a=!0,r=f}finally{try{n||null==u.return||u.return()}finally{if(a)throw r}}return t}(a)?e.from(a,"hex"):e.from(n,"base64")}function r(e){var t="",n=!0,a=!1,r=void 0;try{for(var l,u=e[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var o=l.value;""!==t&&(t+=" ");var f=o.toString(16);1===f.length?t+="0"+f:t+=f}}catch(i){a=!0,r=i}finally{try{n||null==u.return||u.return()}finally{if(a)throw r}}return t}function l(e){var t="",n=!0,a=!1,r=void 0;try{for(var l,u=e[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var o=l.value.toString(16);t=1===o.length?"0"+o+t:o+t}}catch(f){a=!0,r=f}finally{try{n||null==u.return||u.return()}finally{if(a)throw r}}return t}n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l}))}).call(this,n(175).Buffer)},301:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(36),u=n.n(l),o=n(54),f=n(315),i=n(310),c=n(313),s=n(311),v=n(312),d=n(29),h=(n(179),n(314)),p=n(141),y=n(142),m=n(15),b=n.n(m),g=b.a.BigInt(1),E=b.a.BigInt(2);var B=function(){function e(t){Object(p.a)(this,e),this.buffer=t,this.offset=0}return Object(y.a)(e,[{key:"readVarInt",value:function(){var e=function(e,t){var n=b.a.BigInt(0),a=0,r=0;do{if(t>=e.length)throw new RangeError("Index out of bound decoding varint");r=e[t++];var l=b.a.exponentiate(E,b.a.BigInt(a)),u=b.a.multiply(b.a.BigInt(127&r),l);a+=7,n=b.a.add(n,u)}while(r>=128);return{value:n,length:a/7}}(this.buffer,this.offset);return this.offset+=e.length,e.value}},{key:"readBuffer",value:function(e){this.checkByte(e);var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}},{key:"trySkipGrpcHeader",value:function(){var e=this.offset;if(0===this.buffer[this.offset]&&this.leftBytes()>=5){this.offset++;var t=this.buffer.readInt32BE(this.offset);this.offset+=4,t>this.leftBytes()&&(this.offset=e)}}},{key:"leftBytes",value:function(){return this.buffer.length-this.offset}},{key:"checkByte",value:function(e){var t=this.leftBytes();if(e>t)throw new Error("Not enough bytes left. Requested: "+e+" left: "+t)}},{key:"checkpoint",value:function(){this.savedOffset=this.offset}},{key:"resetToCheckpoint",value:function(){this.offset=this.savedOffset}}]),e}(),w=0,I=1,k=2,O=5;function S(e){var t=new B(e),n=[];t.trySkipGrpcHeader();try{for(;t.leftBytes()>0;){t.checkpoint();var a=[t.offset],r=parseInt(t.readVarInt().toString()),l=7&r,u=r>>3,o=void 0;if(l===w)o=t.readVarInt().toString();else if(l===k){var f=parseInt(t.readVarInt().toString());o=t.readBuffer(f)}else if(l===O)o=t.readBuffer(4);else{if(l!==I)throw new Error("Unknown type: "+l);o=t.readBuffer(8)}a.push(t.offset),n.push({byteRange:a,index:u,type:l,value:o})}}catch(i){t.resetToCheckpoint()}return{parts:n,leftOver:t.readBuffer(t.leftBytes())}}function x(e){var t=e.readDoubleLE(0),n=b.a.BigInt("0x"+Object(d.a)(e)),a=function(e){return b.a.greaterThan(e,j)?b.a.subtract(e,R):e}(n),r=[];return r.push({type:"Int",value:a.toString()}),a!==n&&r.push({type:"Unsigned Int",value:n.toString()}),r.push({type:"Double",value:t}),r}function C(e){var t=[],n=b.a.BigInt(e);t.push({type:"Int",value:n.toString()});var a,r=(a=n,b.a.equal(b.a.bitwiseAnd(a,b.a.BigInt(1)),b.a.BigInt(0))?b.a.divide(a,E):b.a.multiply(b.a.BigInt(-1),b.a.divide(b.a.add(a,g),E)));return r!==n&&t.push({type:"Signed Int",value:r.toString()}),t}var j=b.a.BigInt("0x7fffffffffffffff"),R=b.a.BigInt("0x10000000000000000");function H(e){return C(e.value).map((function(e,t){return r.a.createElement("span",{key:t},"As ",e.type,": ",e.value,r.a.createElement("br",null))}))}function L(e){return e.value.value}function T(e){return x(e.value).map((function(e,t){return r.a.createElement("span",{key:t},"As ",e.type,": ",e.value,r.a.createElement("br",null))}))}function A(e){return function(e){var t=e.readFloatLE(0),n=e.readInt32LE(0),a=e.readUInt32LE(0),r=[];return r.push({type:"Int",value:n}),n!==a&&r.push({type:"Unsigned Int",value:a}),r.push({type:"Float",value:t}),r}(e.value).map((function(e,t){return r.a.createElement("span",{key:t},"As ",e.type,": ",e.value,r.a.createElement("br",null))}))}function D(e){switch(e.type){case w:return[r.a.createElement(H,{value:e.value})];case k:var t=S(e.value);return e.value.length>0&&0===t.leftOver.length?[r.a.createElement(P,{value:t}),"protobuf"]:(t=function(e){if(!e.length)return{type:"string|bytes",value:""};var t=new TextDecoder("utf-8",{fatal:!0});try{return{type:"string",value:t.decode(e)}}catch(n){return{type:"bytes",value:Object(d.b)(e)}}}(e.value),[r.a.createElement(L,{value:t}),t.type]);case I:return[r.a.createElement(T,{value:e.value})];case O:return[r.a.createElement(A,{value:e.value})];default:return["Unknown type"]}}var F=function(e){var t=e.part,n=D(t),a=Object(o.a)(n,2),l=a[0],u=a[1],f=function(e,t){switch(e){case w:return"varint";case k:return t||"len_delim";case O:return"fixed32";case I:return"fixed64";default:return"unknown"}}(t.type,u);return r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Cell,null,t.byteRange.join("-")),r.a.createElement(h.a.Cell,null,t.index),r.a.createElement(h.a.Cell,null,f),r.a.createElement(h.a.Cell,null,l))};var P=function(e){var t=e.value,n=t.parts.map((function(e,t){return r.a.createElement(F,{key:t,part:e})})),l=t.leftOver.length?r.a.createElement("p",null,"Left over bytes: ",Object(d.b)(t.leftOver)):null;return r.a.createElement(a.Fragment,null,r.a.createElement(h.a,{celled:!0},r.a.createElement(h.a.Header,null,r.a.createElement(h.a.Row,null,r.a.createElement(h.a.HeaderCell,null,"Byte Range"),r.a.createElement(h.a.HeaderCell,null,"Field Number"),r.a.createElement(h.a.HeaderCell,null,"Type"),r.a.createElement(h.a.HeaderCell,null,"Content"))),r.a.createElement(h.a.Body,null,n)),l)};var U=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],l=t[1],u=Object(a.useState)(""),h=Object(o.a)(u,2),p=h[0],y=h[1],m=p?r.a.createElement(a.Fragment,null,r.a.createElement(f.a,{as:"h2"},"Result"),r.a.createElement(P,{value:S(p)})):null;return r.a.createElement(i.a,null,r.a.createElement(f.a,{as:"h1"},"Protobuf Decoder"),r.a.createElement("p",null,"Tool to decode Protobuf without having the original .proto files. All decoding is done locally via JavaScript."),r.a.createElement(c.a,null,r.a.createElement(c.a.Group,null,r.a.createElement(s.a,{placeholder:"Paste Protobuf or gRPC request as hex or base64",onChange:function(e){l(e.target.value)},value:n})),r.a.createElement(c.a.Button,{primary:!0,fluid:!0,onClick:function(){var e=Object(d.c)(n);l(Object(d.b)(e)),y(e)}},"Decode")),m,r.a.createElement(v.a,null),r.a.createElement("p",null,"Made by pawitp. Contribute on"," ",r.a.createElement("a",{href:"https://github.com/pawitp/protobuf-decoder"},"GitHub"),"."))};n(300);u.a.render(r.a.createElement(U,null),document.getElementById("root"))}},[[170,1,2]]]);
//# sourceMappingURL=main.384e9dae.chunk.js.map